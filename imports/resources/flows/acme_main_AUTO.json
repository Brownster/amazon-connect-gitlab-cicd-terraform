{
  "Name": "acme_main_AUTO",
  "Type": "CONTACT_FLOW",
  "Content": "{\"Version\":\"2019-10-30\",\"StartAction\":\"cc06f7c7-7458-4de1-a177-cec53cd2374f\",\"Metadata\":{\"entryPointPosition\":{\"x\":-70.4,\"y\":12.8},\"ActionMetadata\":{\"d72fa272-5878-49b0-8e9e-b9327f967cb9\":{\"position\":{\"x\":742.4,\"y\":13.6}},\"4eced497-6e19-4457-a80f-04d2a90fa065\":{\"position\":{\"x\":1469.6,\"y\":562.4}},\"ad08e74e-f522-468b-b2aa-7cba53dc3d11\":{\"position\":{\"x\":762.4,\"y\":236.8},\"parameters\":{\"LambdaFunctionARN\":{\"useDynamic\":true}},\"dynamicMetadata\":{},\"useDynamic\":true},\"70b62b74-c15f-4073-8662-4f5b6526163d\":{\"position\":{\"x\":1008,\"y\":235.2},\"parameters\":{\"ContactFlowId\":{\"useDynamic\":true}},\"useDynamic\":true},\"cc06f7c7-7458-4de1-a177-cec53cd2374f\":{\"position\":{\"x\":44,\"y\":12.8}},\"5f4a8479-1c93-41e4-ba09-941608cf0dbc\":{\"position\":{\"x\":505.6,\"y\":13.6},\"overrideConsoleVoice\":false},\"FLOW_OBJECT_MAPS#\":{\"position\":{\"x\":271.2,\"y\":11.2},\"isFriendlyName\":true},\"c733ed0f-663f-4d25-b90b-3308575cda06\":{\"position\":{\"x\":520,\"y\":233.6},\"parameters\":{\"FlowModuleId\":{\"useDynamic\":true}},\"useDynamic\":true},\"254b28a9-88cf-469c-b49c-a2f1d5e0fa4a\":{\"position\":{\"x\":972.8,\"y\":13.6},\"parameters\":{\"EventHooks\":{\"CustomerQueue\":{\"useDynamic\":true}}},\"useDynamic\":true,\"customerOrAgent\":true},\"b7ebee4a-8edb-48b8-bd8f-7ef02367cb34\":{\"position\":{\"x\":233.6,\"y\":424.8},\"parameters\":{\"QueueId\":{\"useDynamic\":true}},\"useDynamic\":true},\"555f2130-406c-4ceb-9750-fad93b94040a\":{\"position\":{\"x\":1239.2,\"y\":501.6}},\"42afdd96-1eff-4841-83b0-eb782d2d0fb9\":{\"position\":{\"x\":228,\"y\":238.4},\"parameters\":{\"QueueId\":{\"useDynamic\":true}},\"useDynamic\":true},\"f713e89c-d360-49a9-93ee-1fbaa5e0ff72\":{\"position\":{\"x\":-6.4,\"y\":346.4},\"parameters\":{\"LexV2Bot\":{\"AliasArn\":{\"useDynamic\":true,\"useLexBotDropdown\":false}}},\"useDynamicLexBotArn\":true,\"lexV2BotName\":\"\",\"conditionMetadata\":[{\"id\":\"b99f4178-7949-416a-8f0c-eda13007f217\",\"operator\":{\"name\":\"Equals\",\"value\":\"Equals\",\"shortDisplay\":\"=\"},\"value\":\"Sales\"},{\"id\":\"b1cee666-d31c-46d7-b67e-5b27a9526e09\",\"operator\":{\"name\":\"Equals\",\"value\":\"Equals\",\"shortDisplay\":\"=\"},\"value\":\"Finance\"}]}},\"Annotations\":[]},\"Actions\":[{\"Parameters\":{\"SSML\":\"Welcome to ACME corporation\"},\"Identifier\":\"d72fa272-5878-49b0-8e9e-b9327f967cb9\",\"Type\":\"MessageParticipant\",\"Transitions\":{\"NextAction\":\"254b28a9-88cf-469c-b49c-a2f1d5e0fa4a\",\"Errors\":[{\"NextAction\":\"254b28a9-88cf-469c-b49c-a2f1d5e0fa4a\",\"ErrorType\":\"NoMatchingError\"}]}},{\"Parameters\":{},\"Identifier\":\"4eced497-6e19-4457-a80f-04d2a90fa065\",\"Type\":\"DisconnectParticipant\",\"Transitions\":{}},{\"Parameters\":{\"LambdaFunctionARN\":\"$.FlowAttributes.acme-exampleFunction\",\"InvocationTimeLimitSeconds\":\"3\",\"ResponseValidation\":{\"ResponseType\":\"STRING_MAP\"}},\"Identifier\":\"ad08e74e-f522-468b-b2aa-7cba53dc3d11\",\"Type\":\"InvokeLambdaFunction\",\"Transitions\":{\"NextAction\":\"70b62b74-c15f-4073-8662-4f5b6526163d\",\"Errors\":[{\"NextAction\":\"555f2130-406c-4ceb-9750-fad93b94040a\",\"ErrorType\":\"NoMatchingError\"}]}},{\"Parameters\":{\"ContactFlowId\":\"$.FlowAttributes.acme_queue_transfer_AUTO\"},\"Identifier\":\"70b62b74-c15f-4073-8662-4f5b6526163d\",\"Type\":\"TransferToFlow\",\"Transitions\":{\"NextAction\":\"555f2130-406c-4ceb-9750-fad93b94040a\",\"Errors\":[{\"NextAction\":\"555f2130-406c-4ceb-9750-fad93b94040a\",\"ErrorType\":\"NoMatchingError\"}]}},{\"Parameters\":{\"FlowLoggingBehavior\":\"Enabled\"},\"Identifier\":\"cc06f7c7-7458-4de1-a177-cec53cd2374f\",\"Type\":\"UpdateFlowLoggingBehavior\",\"Transitions\":{\"NextAction\":\"FLOW_OBJECT_MAPS#\"}},{\"Parameters\":{\"TextToSpeechVoice\":\"Joanna\"},\"Identifier\":\"5f4a8479-1c93-41e4-ba09-941608cf0dbc\",\"Type\":\"UpdateContactTextToSpeechVoice\",\"Transitions\":{\"NextAction\":\"d72fa272-5878-49b0-8e9e-b9327f967cb9\"}},{\"Parameters\":{\"FlowAttributes\":{\"acme-exampleFunction\":{\"Value\":\"arn:aws:lambda:$.AwsRegion:${ACCT_ID}:function:acme-exampleFunction-use1\"},\"acme_queue_transfer_AUTO\":{\"Value\":\"arn:aws:connect:${REGION}:${ACCT_ID}:instance/${INSTANCE_ID}/contact-flow/${F:acme_queue_transfer_AUTO:F}\"},\"acme_contact_flow_module_AUTO\":{\"Value\":\"arn:aws:connect:${REGION}:${ACCT_ID}:instance/${INSTANCE_ID}/flow-module/${M:acme_contact_flow_module_AUTO:M}\"},\"acme_customer_queue_AUTO\":{\"Value\":\"arn:aws:connect:${REGION}:${ACCT_ID}:instance/${INSTANCE_ID}/contact-flow/${F:acme_customer_queue_AUTO:F}\"},\"finance\":{\"Value\":\"arn:aws:connect:${REGION}:${ACCT_ID}:instance/${INSTANCE_ID}/queue/${Q:finance:Q}\"},\"sales\":{\"Value\":\"arn:aws:connect:${REGION}:${ACCT_ID}:instance/${INSTANCE_ID}/queue/${Q:sales:Q}\"},\"ACME-lexbot2-tfdemo/current\":{\"Value\":\"arn:aws:lex:$.AwsRegion:${ACCT_ID}:bot-alias/ACME-lexbot2-tfdemo/current\"}}},\"Identifier\":\"FLOW_OBJECT_MAPS#\",\"Type\":\"UpdateFlowAttributes\",\"Transitions\":{\"NextAction\":\"5f4a8479-1c93-41e4-ba09-941608cf0dbc\",\"Errors\":[{\"NextAction\":\"5f4a8479-1c93-41e4-ba09-941608cf0dbc\",\"ErrorType\":\"NoMatchingError\"}]}},{\"Parameters\":{\"FlowModuleId\":\"$.FlowAttributes.acme_contact_flow_module_AUTO\"},\"Identifier\":\"c733ed0f-663f-4d25-b90b-3308575cda06\",\"Type\":\"InvokeFlowModule\",\"Transitions\":{\"NextAction\":\"ad08e74e-f522-468b-b2aa-7cba53dc3d11\",\"Errors\":[{\"NextAction\":\"555f2130-406c-4ceb-9750-fad93b94040a\",\"ErrorType\":\"NoMatchingError\"}]}},{\"Parameters\":{\"EventHooks\":{\"CustomerQueue\":\"$.FlowAttributes.acme_customer_queue_AUTO\"}},\"Identifier\":\"254b28a9-88cf-469c-b49c-a2f1d5e0fa4a\",\"Type\":\"UpdateContactEventHooks\",\"Transitions\":{\"NextAction\":\"f713e89c-d360-49a9-93ee-1fbaa5e0ff72\",\"Errors\":[{\"NextAction\":\"555f2130-406c-4ceb-9750-fad93b94040a\",\"ErrorType\":\"NoMatchingError\"}]}},{\"Parameters\":{\"QueueId\":\"$.FlowAttributes.finance\"},\"Identifier\":\"b7ebee4a-8edb-48b8-bd8f-7ef02367cb34\",\"Type\":\"UpdateContactTargetQueue\",\"Transitions\":{\"NextAction\":\"c733ed0f-663f-4d25-b90b-3308575cda06\",\"Errors\":[{\"NextAction\":\"555f2130-406c-4ceb-9750-fad93b94040a\",\"ErrorType\":\"NoMatchingError\"}]}},{\"Parameters\":{\"Text\":\"We are experiencing technical difficulties. Please retry your call.\"},\"Identifier\":\"555f2130-406c-4ceb-9750-fad93b94040a\",\"Type\":\"MessageParticipant\",\"Transitions\":{\"NextAction\":\"4eced497-6e19-4457-a80f-04d2a90fa065\",\"Errors\":[{\"NextAction\":\"4eced497-6e19-4457-a80f-04d2a90fa065\",\"ErrorType\":\"NoMatchingError\"}]}},{\"Parameters\":{\"QueueId\":\"$.FlowAttributes.sales\"},\"Identifier\":\"42afdd96-1eff-4841-83b0-eb782d2d0fb9\",\"Type\":\"UpdateContactTargetQueue\",\"Transitions\":{\"NextAction\":\"c733ed0f-663f-4d25-b90b-3308575cda06\",\"Errors\":[{\"NextAction\":\"555f2130-406c-4ceb-9750-fad93b94040a\",\"ErrorType\":\"NoMatchingError\"}]}},{\"Parameters\":{\"Text\":\"Which department do you need to speak with? Please say sales or finance\",\"LexV2Bot\":{\"AliasArn\":\"$.FlowAttributes.acme-lexbot\"}},\"Identifier\":\"f713e89c-d360-49a9-93ee-1fbaa5e0ff72\",\"Type\":\"ConnectParticipantWithLexBot\",\"Transitions\":{\"NextAction\":\"555f2130-406c-4ceb-9750-fad93b94040a\",\"Conditions\":[{\"NextAction\":\"42afdd96-1eff-4841-83b0-eb782d2d0fb9\",\"Condition\":{\"Operator\":\"Equals\",\"Operands\":[\"Sales\"]}},{\"NextAction\":\"b7ebee4a-8edb-48b8-bd8f-7ef02367cb34\",\"Condition\":{\"Operator\":\"Equals\",\"Operands\":[\"Finance\"]}}],\"Errors\":[{\"NextAction\":\"555f2130-406c-4ceb-9750-fad93b94040a\",\"ErrorType\":\"NoMatchingCondition\"},{\"NextAction\":\"555f2130-406c-4ceb-9750-fad93b94040a\",\"ErrorType\":\"NoMatchingError\"}]}}]}",
  "Tags": {
    "repository": "connect-cicd-terraform/amzconnect-contact-flows"
  },
  "Description": "Main Entry Point"
}
